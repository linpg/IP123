<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>利8专用网站，请放心</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-b from-gray-900 to-gray-800 flex flex-col items-center justify-center h-screen text-gray-200 text-center px-6">

  <p class="text-3xl text-white font-black mb-4 font-serif tracking-wide">
    【利8官方专用】请截图此画面并提供
  </p>

  <p id="result" class="text-2xl text-yellow-400 font-semibold bg-gray-800 px-4 py-2 rounded-lg shadow-md font-mono">载入中…</p>
  <p id="timestamp" class="text-base text-gray-400 mt-2 font-mono"></p>
  <p id="userAgent" class="text-sm text-gray-500 mt-2 font-mono break-words max-w-xl"></p>

  <script>
    async function getIP() {
      const apis = [
        {
          url: 'https://ip.taobao.com/outGetIpInfo?ip=myip&accessKey=alibaba-inc',
          parse: res => res.data && res.data.ip
        },
        {
          url: 'https://api.ipify.org?format=json',
          parse: res => res.ip
        },
        {
          url: 'https://ipv4.jsonip.com',
          parse: res => res.ip
        },
        {
          url: 'https://api.my-ip.io/ip.json',
          parse: res => res.ip
        },
        {
          url: 'https://checkip.amazonaws.com',
          parse: text => text.trim(),
          isText: true
        }
      ];

      for (const api of apis) {
        try {
          const res = await fetch(api.url);
          const contentType = res.headers.get("content-type");

          let ip = '';
          if (api.isText) {
            ip = api.parse(await res.text());
          } else {
            const data = await res.json();
            ip = api.parse(data);
          }

          if (ip) {
            document.getElementById('result').innerText = ip;
            document.getElementById('timestamp').innerText = '时间戳：' + new Date().toLocaleString('zh-Hant-TW');
            document.getElementById('userAgent').innerText = '浏览器信息：' + navigator.userAgent;
            return;
          }
        } catch (err) {
          continue; // 尝试下一个
        }
      }

      document.getElementById('result').innerText = "无法获取 IP，请检查网络连接";
    }

    getIP();
  </script>
</body>
</html>
